<UserControl x:Class="RauskuClaw.GUI.Views.SerialConsole"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800"
             Background="#0F1115">
    <DockPanel LastChildFill="True">
        <DockPanel DockPanel.Dock="Top">
            <TextBlock Text="Serial Console" FontWeight="SemiBold" Foreground="#E6EAF2" VerticalAlignment="Center" Margin="12,8,0,8"/>
            <TextBlock Text="{Binding ConnectionInfo}" Foreground="#9AA3B2" VerticalAlignment="Center" Margin="12,8,0,8"/>
            <CheckBox Content="Auto-scroll" IsChecked="{Binding AutoScroll}" Foreground="#E6EAF2" VerticalAlignment="Center" Margin="12,8,0,8"/>
            <Button Content="{Binding PauseButtonText}" Command="{Binding TogglePauseCommand}" Background="#2A3240" Foreground="#E6EAF2" BorderThickness="0" Padding="12,4" DockPanel.Dock="Right" Cursor="Hand" Margin="0,8,8,8"/>
            <Button Content="Copy" Command="{Binding CopyCommand}" Background="#2A3240" Foreground="#E6EAF2" BorderThickness="0" Padding="12,4" DockPanel.Dock="Right" Cursor="Hand" Margin="0,8,8,8"/>
            <Button Content="Save" Command="{Binding SaveCommand}" Background="#2A3240" Foreground="#E6EAF2" BorderThickness="0" Padding="12,4" DockPanel.Dock="Right" Cursor="Hand" Margin="0,8,8,8"/>
            <Button Content="Clear" Command="{Binding ClearCommand}" Background="#2A3240" Foreground="#E6EAF2" BorderThickness="0" Padding="12,4" DockPanel.Dock="Right" Cursor="Hand" Margin="0,8,12,8"/>
        </DockPanel>

        <Border DockPanel.Dock="Top"
                Background="#D29922"
                Padding="12,8"
                Visibility="{Binding IsNotConnected, Converter={StaticResource BoolToVisibilityConverter}}">
            <TextBlock Text="Serial not connected yet. Output appears automatically when VM serial stream is active."
                       FontWeight="SemiBold"/>
        </Border>

        <Grid>
            <RichTextBox x:Name="SerialOutputRichTextBox"
                         IsReadOnly="True"
                         IsDocumentEnabled="False"
                         FontFamily="Consolas"
                         Background="#0A0C0E"
                         Foreground="#00FF00"
                         VerticalScrollBarVisibility="Auto"
                         HorizontalScrollBarVisibility="Auto"
                         BorderThickness="0"
                         Padding="8"/>

            <Button x:Name="ScrollToBottomButton"
                    Content="Jump to bottom"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Bottom"
                    Margin="0,0,12,12"
                    Padding="10,5"
                    Background="#2A3240"
                    Foreground="#E6EAF2"
                    BorderBrush="#4DA3FF"
                    BorderThickness="1"
                    Cursor="Hand"
                    Visibility="Collapsed"
                    Opacity="0.92"
                    Click="ScrollToBottomButton_OnClick"/>
        </Grid>
    </DockPanel>
</UserControl>
