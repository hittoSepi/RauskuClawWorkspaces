<UserControl x:Class="RauskuClaw.GUI.Views.SshTerminal"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="800"
             Background="#0F1115">
    <DockPanel LastChildFill="True">
        <!-- Toolbar -->
        <DockPanel DockPanel.Dock="Top" LastChildFill="False">
            <TextBlock Text="SSH Terminal" FontWeight="SemiBold" Foreground="#E6EAF2" VerticalAlignment="Center" Margin="12,8,0,8"/>
            <TextBlock Text="{Binding ConnectionInfo}" Foreground="#9AA3B2" VerticalAlignment="Center" Margin="12,8,0,8"/>
            <Button
                    Command="{Binding CopyOutputCommand}"
                    Style="{StaticResource SecondaryIconButton}"
                    Tag="Copy"
                    Content="Copy"
                    Padding="12,6"
                    Cursor="Hand"
                    DockPanel.Dock="Right"
                    Margin="0,8,8,8"/>
            <Button
                    Command="{Binding SaveOutputCommand}"
                    Style="{StaticResource SecondaryIconButton}"
                    Tag="Save"
                    Content="Save"
                    Padding="12,6"
                    Cursor="Hand"
                    DockPanel.Dock="Right"
                    Margin="0,8,8,8"/>
            <Button
                    Command="{Binding DisconnectCommand}"
                    Style="{StaticResource RedIconButton}"
                    Tag="Plug"
                    Content="Disconnect"
                    Padding="12,6"
                    Cursor="Hand"
                    DockPanel.Dock="Right"
                    Margin="0,8,12,8"/>
        </DockPanel>

        <!-- Not connected indicator -->
        <Border DockPanel.Dock="Top"
                Background="#D29922"
                Padding="12,8"
                Visibility="{Binding ShowWarning, Converter={StaticResource BoolToVisibilityConverter}}">
            <StackPanel Orientation="Horizontal">
                <fa:IconBlock Icon="ExclamationTriangle" Width="14" Height="14" Foreground="#0F1115" Margin="0,0,8,0" VerticalAlignment="Center"/>
                <TextBlock Text="{Binding WarningText}"
                           FontWeight="SemiBold"/>
            </StackPanel>
        </Border>

        <!-- Command input -->
        <Border DockPanel.Dock="Bottom" Background="#151A22" Padding="8" BorderBrush="#2A3240" BorderThickness="0,1,0,0">
            <Grid>
                <TextBlock Text="$" Foreground="#4DA3FF" FontFamily="Consolas" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0,0,8,0"/>
                <TextBox Text="{Binding CommandInput, UpdateSourceTrigger=PropertyChanged}"
                         Background="Transparent"
                         Foreground="#E6EAF2"
                         BorderThickness="0"
                         FontFamily="Consolas"
                         FontSize="12"
                         Padding="20,4,8,4"
                         VerticalAlignment="Center"
                         HorizontalAlignment="Stretch"
                         VerticalContentAlignment="Center">
                    <TextBox.InputBindings>
                        <KeyBinding Key="Return" Command="{Binding ExecuteCommandCommand}"/>
                    </TextBox.InputBindings>
                </TextBox>
            </Grid>
        </Border>

        <!-- Terminal output -->
        <TextBox Text="{Binding TerminalOutput, Mode=OneWay}"
                 IsReadOnly="True"
                 FontFamily="Consolas"
                 FontSize="12"
                 Background="#0A0C0E"
                 Foreground="#00FF00"
                 BorderThickness="0"
                 Padding="8"
                 VerticalScrollBarVisibility="Auto"
                 TextWrapping="NoWrap"/>
    </DockPanel>
</UserControl>

